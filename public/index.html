<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1'>
	<title>Svelte</title>
	<link rel='icon' type='image/png' href='./favicon.png'>
	<link rel='stylesheet' href='./dist/reset.css?v=1'>
	<link rel='stylesheet' href='./dist/editor.css?v=1'>
<!--	<script src="https://cdn.bootcss.com/axios/0.19.0/axios.min.js"></script>-->
	<style>
		#box,#box2,#box3{
			width:900px;
			margin:10px auto;
		}
	</style>
</head>
<input type="button" value="after" id="btn" />
<input type="button" value="before" id="btn1" />
<input type="button" value="新增按钮" id="btn2" />
<input type="button" value="删除按钮" id="btn3" />
<input type="button" value="替换" id="btn4" />
<input type="button" value="设置按钮" id="btn5" />
<input type="button" value="aaa" id="btn3" />
<input type="button" value="watch xss" id="btn4" />
<div id="box"></div>
<div id="box2"></div>
<div id="box3"></div>
<script src='./dist/editor.js?v=1'></script>
<script>
	const getEl = id => document.querySelector(`#${id}`)
	const marked = MdEditor.MdMarked
	const mditor = new MdEditor.MdCreate('#box',{
	  height:500,
		value: '[svelte](https://www.npmjs.com/package/svelte)'
	})
	// setTimeout(() => {
	// 	console.log('new placeholder')
	// mditor.editor.placeholder = '这是发大哥'
	console.log(mditor)
	getEl('btn2').onclick = () => {
		const item = {
			name: "news",
			title: "新增的按钮",
			icon: "icon-cuti",
			handler: () => {
				alert("新增按钮的事件操作")
			}
		}
		mditor.toolbar.add(item)
	}
	getEl('btn3').onclick = () => {
		mditor.toolbar.del("redo")
	}
	getEl('btn4').onclick = () => {
		const item = {
			name: "replce",
			title: "替换的按钮",
			icon: "icon-code",
			handler: () => {
				alert("替换按钮的事件操作")
			}
		}
		mditor.toolbar.replace('h2',item)
	}
	getEl('btn5').onclick = () => {
		const item = {
			name: "h5",
			title: "设置的按钮",
			icon: "icon-code",
			handler: () => {
				alert("设置按钮的事件操作")
			},
			key:'shift+alt+5'
		}
		mditor.toolbar.set(item)
	}
	// },3000)
	const aa = new MdEditor.MdCreate('#box2')
	//
	// const ccc = {
	// 	icon:'icon-code',
	// 	name: 'code',
	// 	title: '我是标题哦',
	// 	key: 'h+b',
	// 	handler(){
	// 		alert()
	// 	}
	// }
	//
	// aa.toolbar.set(ccc)
	// aa.toolbar.add(ccc)

	// const bb = new MdEditor.MdCreate('#box3')
	// bb.editor.height = 300
	// bb.editor.placeholder = '最后的'
	// setTimeout(() => {
	// 	mditor.editor.placeholder = '该表了大法官'
	// },3000)
	// const item = mditor.toolbar.replace('bold',{ icon:'icon-code',title:'写几把血' })
	// item.key = 'shift+alt+m'
	// item.handler = () => mditor.insertBeforeText('哈哈')
	// const getItem = mditor.toolbar.get('undo')
	// getItem.icon = 'icon-code'
	// getItem.title = '发大水'
	// getItem.handler = () => {
	// 	alert()
	// }

	// mditor.editor.toolbar = ['h1']

	// setTimeout(() => {
	// 	mditor.toolbar.set(getItem)
	// },5000)
	// setTimeout(() => {
	// 	console.log(getItem)
	// 	getItem.key = 'shift+alt+r'
	// 	getItem.icon = 'icon-code'
	// 	getItem.title = '哈哈'
	// 	getItem.handler = () => {
	// 		console.log(getItem)
	// 	}
	// },3000)
	// mditor.toolbar.del('code')
	// const addItem = mditor.toolbar.add({ icon:'icon-code',title:'标签' })
	// addItem.key = 'h+b'
	// addItem.handler = () => {
	// 	alert('h+b')
	// }

	// mditor.editor.splitscreen = false
	// mditor.editor.preview = true

	getEl('btn').onclick = function(){
		console.log(mditor)
	  mditor.insertAfterText('hello word')
	}
	// console.log(mditor)
	getEl('btn1').onclick = function(){
		mditor.insertBeforeText('insertBeforeText')
	}
	// getEl('btn2').onclick = function(){
	// 	mditor.editor.xss = false
	// 	mditor.editor.height = 800
	// 	mditor.editor.value = 'hello word'
	// }
	// mditor.editor.on('change',({detail}) => {
	// 	console.log(detail)
	// })
</script>
<body>
</body>
</html>
